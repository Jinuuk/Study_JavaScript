<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" href="./css/modal2.css">
</head>
<body>
  <div class="black-bg">
    <div class="white-bg">
      <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
      <form action="success.html">
        <div class="my-3">
          <input type="text" class="form-control" id="idForm">
         </div>
         <div class="my-3">
           <input type="password" class="form-control" id="passwordForm">
         </div>
         <button type="submit" class="btn btn-primary" id="submit">ì „ì†¡</button>
         <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
      </form> 
    </div>
  </div> 
  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <span class="navbar-brand">Navbar</span>
      <!-- <span class="badge bg-dark">Dark ğŸ”„</span> -->
      <button class="navbar-toggler" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <div class="percent"></div>
  </nav>
  <ul class="list-group">
    <li class="list-group-item">An item</li>
    <li class="list-group-item">A second item</li>
    <li class="list-group-item">A third item</li>
    <li class="list-group-item">A fourth item</li>
    <li class="list-group-item">And a fifth one</li>
  </ul>
  <div class="main-bg">
    <h4>Shirts on Sale</h4>
    <button class="modal-btn" id="login">ë¡œê·¸ì¸</button>
  </div>
  <div class="alert alert-danger">
    <span id="leftTime">5</span>ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •
  </div>

<div style="overflow : hidden">
  <div class="slide-container">
    <div class="slide-box">
      <img src="./img/car1.png" alt="">
    </div>
    <div class="slide-box">
      <img src="./img/car2.png" alt="">
    </div>
    <div class="slide-box">
      <img src="./img/car3.png" alt="">
    </div>
  </div>
</div>
<button class="slide-prev">ì´ì „</button>
<button class="slide-1">1</button>
<button class="slide-2">2</button>
<button class="slide-3">3</button>  
<button class="slide-next">ë‹¤ìŒ</button>

<div class="lorem">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae suscipit eaque, nobis aliquid excepturi ullam doloribus nihil officiis enim. Incidunt quae cupiditate totam vero quia cumque nihil accusantium blanditiis sequi!
  Totam possimus, qui nobis consectetur quam facere? Nihil voluptates suscipit tempora laudantium sint numquam sequi natus nemo repudiandae labore, accusantium aliquid cupiditate architecto, nulla quod at quisquam, explicabo iusto corrupti?</div>

<div style="height : 1500px"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  <script
  src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
  crossorigin="anonymous"></script>

  <script>
    //ëª¨ë‹¬ì°½
    $('.modal-btn').on('click',function(){
      $('.black-bg').addClass('show-modal');
    })
    $('#close').on('click',function(){
      $('.black-bg').removeClass('show-modal');
    })
    $('.navbar-toggler').on('click',function(){
      $('.list-group').toggleClass('show-list');
    })

    //ìœ íš¨ì„± ê²€ì‚¬ + ì •ê·œì‹
    //$('form').on('submit',function(){})
    $('#submit').on('click',function(e){
      let inputId = $('#idForm').val().trim();
      let inputPassword = $('#passwordForm').val().trim();

      if(inputId == ''){
        alert('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
        e.preventDefault();
      }
      if(!/\S+@\S+\.\S+/.test(inputId)){
        alert('ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.');
        e.preventDefault();
      }
      if(inputPassword == ''){
        alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
        e.preventDefault();
      } else if (inputPassword.length < 6){
        alert('ë¹„ë°€ë²ˆí˜¸ëŠ” 6ìë¦¬ ì´ìƒ ì…ë ¥í•´ì•¼í•©ë‹ˆë‹¤.');
        e.preventDefault();
      } else if (/[A-Z]/.test(inputPassword)){
        alert('ë¹„ë°€ë²ˆí˜¸ì— ëŒ€ë¬¸ìê°€ í¬í•¨ë˜ì–´ìˆìŠµë‹ˆë‹¤.');
        e.preventDefault();
      }
    })
    //<input>ì—ì„œ ì¼ì–´ë‚˜ëŠ” input ì´ë²¤íŠ¸ : input, change 

    //ê¸€ì ë³€ê²½ (ë‹¤í¬ëª¨ë“œ)
    var cnt = 0;
    $('.badge').on('click',function(){
      cnt++;
      console.log(cnt);
      if(cnt%2 == 0){
        $('.badge').html('Light ğŸ”„');
      } else {
        $('.badge').html('Dark ğŸ”„');
      }
    })

    let time = 5;
    setInterval(function(){
      if(time > 0) {
        time -= 1;
        $('#leftTime').html(time);
      } else {
        $('.alert').hide();
      }
    },1000);

    //ìºëŸ¬ì…€
    let slidePage = 0;

    $('.slide-1').on('click',function(){
      $('.slide-container').css('transform','translateX(0)');
    })
    $('.slide-2').on('click',function(){
      slidePage = 1;
      $('.slide-container').css('transform','translateX(-100vw)');
    })
    $('.slide-3').on('click',function(){
      slidePage = 2;
      $('.slide-container').css('transform','translateX(-200vw)');
    })

    $('.slide-prev').on('click',function(){
      console.log(slidePage);
      if(slidePage > 0 && slidePage <=2){
        slidePage = slidePage -1 ;
        $('.slide-container').css('transform',`translateX(-${slidePage*100}vw)`);
      }
    })

    $('.slide-next').on('click',function(){
      console.log(slidePage);
      if(slidePage >= 0 && slidePage <2){
        slidePage = slidePage + 1;
        $('.slide-container').css('transform',`translateX(-${slidePage*100}vw)`);
      }
    })

    //ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
    window.addEventListener('scroll',function(){
       //ìŠ¤í¬ë¡¤ë°”ë¥¼ Yì¶•ìœ¼ë¡œ ì´ë™í•œ ì–‘
      window.scrollY
      // window.pageYOffset <--ìœ„ì™€ ê°™ì€ ì˜ë¯¸ (í˜¸í™˜ì„± ë” ë†’ìŒ)

      //ìŠ¤í¬ë¡¤ë°”ë¥¼ Xì¶•ìœ¼ë¡œ ì´ë™í•œ ì–‘
      // window.scrollX

      // ì¢Œí‘œë¡œ ìŠ¤í¬ë¡¤ ì´ë™ : Bootstrap ì„¤ì¹˜ ì‹œ ìŠ¤í¬ë¡¤ì„ ìŠ¤ë¬´ìŠ¤í•˜ê²Œ ì²˜ë¦¬í•´ì¤Œ
      // window.scrollTo(x,y)

      // í˜„ì¬ ìœ„ì¹˜ì—ì„œ ì¢Œí‘œë§Œí¼ ìŠ¤í¬ë¡¤ ì´ë™
      // window.scrollBy(0,100);
    })

    // JQuery
    $(window).on('scroll',function(){
      // í˜„ì¬ ìŠ¤í¬ë¡¤ë°” ìœ„ì¹˜ ì¶œë ¥
      // $(window).scrollTop();

      //ìŠ¤í¬ë¡¤ ì´ë™
      // $(window).scrollTop(100);
    })

    $('.lorem').on('scroll',function(){
      //<div> ë‚´ì—ì„œ ìŠ¤í¬ë¡¤ë°”ë¥¼ Yì¶•ìœ¼ë¡œ ì´ë™í•œ ì–‘
      document.querySelector('.lorem').scrollTop;

      //<div> ì‹¤ì œ ë†’ì´
      document.querySelector('.lorem').scrollHeight;

      //ëˆˆì— ë³´ì´ëŠ” <div> ë†’ì´
      document.querySelector('.lorem').clientHeight;
    })

    //ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì—°ìŠµ
    //1.ìŠ¤í¬ë¡¤ë°” 100px ë‚´ë¦¬ë©´ ë¡œê³  í°íŠ¸ ì‚¬ì´ì¦ˆ ì‘ê²Œ ë§Œë“¤ê¸°
    window.addEventListener('scroll',function(){
      if(window.scrollY >= 100){
        document.querySelector('.navbar-brand').style.fontSize = '18px';
      } else {
        document.querySelector('.navbar-brand').style.fontSize = '30px';
      }
    })


    //2.íšŒì›ì•½ê´€ ë°•ìŠ¤ë¥¼ ê±°ì˜ ëê¹Œì§€ ìŠ¤í¬ë¡¤í•˜ë©´ alert ë°œìƒ
    let showAlert = false;
    document.querySelector('.lorem').addEventListener('scroll',function(){
      let st =  document.querySelector('.lorem').scrollTop;
      let ch = document.querySelector('.lorem').clientHeight;
      let sh = document.querySelector('.lorem').scrollHeight;

      if(st+ch >= sh-5 && showAlert == false){
        showAlert = true;
        alert('ë‹¤ ì½ì—ˆìŠµë‹ˆë‹¤.');
      } else if (st + ch < sh-5){
        showAlert = false;
      }
    })

    //í˜„ì¬ í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤ í–ˆëŠ”ì§€ ì²´í¬
    // document.querySelector('html').scrollTop;
    window.scrollY;

    document.querySelector('html').clientHeight;
    
    //í˜ì´ì§€ ë¡œë“œ ì™„ë£Œì‹œ ì‹¤í–‰í•´ì•¼ ì •í™• -> <body>ëë‚˜ê¸° ì „ì— ë„£ê¸°
    document.querySelector('html').scrollHeight;
    // document.documentElement.scrollHeight;

    //3.ì½ì€ ì–‘ í™•ì¸
    window.addEventListener('scroll',function(){
      let st = window.scrollY;
      let ch = document.querySelector('html').clientHeight;
      let sh = document.querySelector('html').scrollHeight;

      console.log(st,ch,sh);

      document.querySelector('.percent').style.width = `${st/(sh-ch) * 100}%`;
    })


  
  </script>
</body>
</html>